<html>

<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <script type="text/javascript" src="elm.js"></script>
  <style type="text/css">
    body {
      margin: 0;
    }
  </style>
</head>

<body>
  <div id="shell"></div>
</body>
<script type="text/javascript">

  function point(x, y) {
    return { x: x, y: y };
  }

  // MAIN
  var shell = document.getElementById('shell')

  var app = window.Elm.Main.init({
    node: shell
  });

  var canvasRuler = document.getElementById('canvasRuler');

  canvasRuler.addEventListener('click', function (event) {
    const target = event.target;
    const rect = target.getBoundingClientRect();
    let x = Math.floor(event.clientX - rect.left);
    let y = Math.floor(event.clientY - rect.top);
    app.ports.canvasRulerPressed.send(point(x, y));
  });



</script>

</html>
